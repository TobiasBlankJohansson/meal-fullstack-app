FROM maven:3.9.9-eclipse-temurin-23-alpine
WORKDIR /app

ARG NINJA_KEY
ARG DB_USERNAME
ARG DB_PASSWORD
ARG DB_URL

ENV NINJA_KEY=$NINJA_KEY
ENV DB_USERNAME=$DB_USERNAME
ENV DB_PASSWORD=$DB_PASSWORD
ENV DB_URL=$DB_URL

COPY ./backend .
RUN mvn clean package
EXPOSE 8080

ENTRYPOINT ["java","-jar","/app/target/helloWorld-0.0.1-SNAPSHOT.jar"]